<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Kubernetes CKA 真题解析 | 虫子个人博客</title><meta name="author" content="chongzi"><meta name="copyright" content="chongzi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第一题Set configuration context $ kubectl config use-context k8s  Monitor the logs of Pod foobar and  Extract log lines corresponding to error file-not-found Write them to &#x2F;opt&#x2F;KULM00201&#x2F;f">
<meta property="og:type" content="article">
<meta property="og:title" content="Kubernetes CKA 真题解析">
<meta property="og:url" content="https://wqblogs.com/2020/08/13/cka/index.html">
<meta property="og:site_name" content="虫子个人博客">
<meta property="og:description" content="第一题Set configuration context $ kubectl config use-context k8s  Monitor the logs of Pod foobar and  Extract log lines corresponding to error file-not-found Write them to &#x2F;opt&#x2F;KULM00201&#x2F;f">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://www.wqblogs.com:4443/image/cka.png">
<meta property="article:published_time" content="2020-08-13T02:30:04.000Z">
<meta property="article:modified_time" content="2023-06-24T15:59:29.000Z">
<meta property="article:author" content="chongzi">
<meta property="article:tag" content="cka">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.wqblogs.com:4443/image/cka.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://wqblogs.com/2020/08/13/cka/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查詢的內容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Kubernetes CKA 真题解析',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-24 23:59:29'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="虫子个人博客" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">190</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">40</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/2020/01/04/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://www.wqblogs.com:4443/image/cka.png')"><nav id="nav"><span id="blog-info"><a href="/" title="虫子个人博客"><span class="site-name">虫子个人博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜尋</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/2020/01/04/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Kubernetes CKA 真题解析</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2020-08-13T02:30:04.000Z" title="發表於 2020-08-13 10:30:04">2020-08-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2023-06-24T15:59:29.000Z" title="更新於 2023-06-24 23:59:29">2023-06-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/cka/">cka</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Kubernetes CKA 真题解析"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="第一题"><a href="#第一题" class="headerlink" title="第一题"></a>第一题</h2><p>Set configuration context $ kubectl config use-context k8s </p>
<p>Monitor the logs of Pod foobar and</p>
<ol>
<li>Extract log lines corresponding to error file-not-found</li>
<li>Write them to &#x2F;opt&#x2F;KULM00201&#x2F;foobar</li>
</ol>
<p>Question weight 5%</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl logs  foobar |grep file-not-found &gt;&gt; /opt/KULM00201/foobar</span></span><br></pre></td></tr></table></figure>

<h2 id="第二题"><a href="#第二题" class="headerlink" title="第二题"></a>第二题</h2><p>Set configuration context $ kubectl config use-context k8s</p>
<p>List all PVs sorted by name saving the full kubectl output to &#x2F;opt&#x2F;KUCC0010&#x2F;my_volumes . Use kubectl’s own functionally for sorting the output, and do not manipulate it any further.</p>
<p>Question weight 3%</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl get pv -A --sort-by=.metadata.name &gt;/opt/KUCC0010/my_volumes</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> /opt/KUCC0010/my_volumes</span></span><br><span class="line">NAME       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS   REASON   AGE</span><br><span class="line">nginx-1    5Gi        RWX            Recycle          Available                                   5m1s</span><br><span class="line">nginx-2    1Gi        RWX            Recycle          Available                                   4m44s</span><br><span class="line">nginx-3    10Gi       RWX            Recycle          Available                                   4m44s</span><br><span class="line">tomcat-1   5Gi        RWX            Recycle          Available                                   3m42s</span><br><span class="line">tomcat-2   1Gi        RWX            Recycle          Available                                   3m42s</span><br><span class="line">tomcat-3   10Gi       RWX            Recycle          Available                                   3m42s</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>pv按容量去排序</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl get pv -A --sort-by=.spec.capacity.storage</span></span><br><span class="line">NAME       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS   REASON   AGE</span><br><span class="line">nginx-2    1Gi        RWX            Recycle          Available                                   3m55s</span><br><span class="line">tomcat-2   1Gi        RWX            Recycle          Available                                   2m53s</span><br><span class="line">nginx-1    5Gi        RWX            Recycle          Available                                   4m12s</span><br><span class="line">tomcat-1   5Gi        RWX            Recycle          Available                                   2m53s</span><br><span class="line">nginx-3    10Gi       RWX            Recycle          Available                                   3m55s</span><br><span class="line">tomcat-3   10Gi       RWX            Recycle          Available                                   2m53s</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第三题"><a href="#第三题" class="headerlink" title="第三题"></a>第三题</h2><p>Set configuration context $ kubectl config use-context k8s</p>
<p>Ensure a single instance of Pod nginx is running on each node of the kubernetes cluster where nginx also represents the image name which has to be used. Do no override any taints currently in place.</p>
<p>Use Daemonsets to complete this task and use ds.kusc00201 as Daemonset name. Question weight 3%</p>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/">https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/</a></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kubectl create deployment ds.kusc00201 --image=nginx -oyaml &gt;ds.kusc00201.yaml</span></span><br><span class="line"><span class="comment"># vim ds.kusc00201.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">DaemonSet</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">ds.kusc00201</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ds.kusc00201</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">ds.kusc00201</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">creationTimestamp:</span> <span class="literal">null</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">ds.kusc00201</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">imagePullPolicy:</span> <span class="string">Always</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line"><span class="comment"># kubectl apply -f ds.kusc00201.yaml</span></span><br><span class="line"><span class="string">daemonset.apps/ds.kusc00201</span> <span class="string">created</span></span><br><span class="line"><span class="comment"># kubectl get ds</span></span><br><span class="line"><span class="string">NAME</span>           <span class="string">DESIRED</span>   <span class="string">CURRENT</span>   <span class="string">READY</span>   <span class="string">UP-TO-DATE</span>   <span class="string">AVAILABLE</span>   <span class="string">NODE</span> <span class="string">SELECTOR</span>   <span class="string">AGE</span></span><br><span class="line"><span class="string">ds.kusc00201</span>   <span class="number">2</span>         <span class="number">2</span>         <span class="number">2</span>       <span class="number">2</span>            <span class="number">2</span>           <span class="string">&lt;none&gt;</span>          <span class="string">2m33s</span></span><br></pre></td></tr></table></figure>

<h2 id="第四题"><a href="#第四题" class="headerlink" title="第四题"></a>第四题</h2><p>Set configuration context $ kubectl config use-context k8s </p>
<p>Perform the following tasks</p>
<ol>
<li>Add an init container to </li>
<li>The init container should create an empty file named </li>
<li>If &#x2F;workdir&#x2F;calm.txt is not detected, the Pod should exit</li>
<li>Once the spec file has been updated with the init container definition, the Pod should be created.</li>
</ol>
<p>Question weight 7%</p>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/">https://kubernetes.io/docs/concepts/workloads/pods/init-containers/</a></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kubectl run  lumpy--koala --image=nginx  -oyaml --dry-run &gt;/opt/kucc00100/pod-spec-KUCC00100.yaml</span></span><br><span class="line"><span class="comment"># vim /opt/kucc00100/pod-spec-KUCC00100.yaml </span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">lumpy--koala</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">lumpy--koala</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">busybox:1.28</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">lumpy--koala</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;sh&#x27;</span>,<span class="string">&#x27;-c&#x27;</span>,<span class="string">&#x27;if [ !-f /workdir/calm.txt ];then exit 1;else sleep 300;fi&#x27;</span>]</span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">workdir</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">&quot;/workdir&quot;</span></span><br><span class="line">  <span class="attr">initContainers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">init-myservice</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.28</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;sh&#x27;</span>,<span class="string">&#x27;-c&#x27;</span>,<span class="string">&#x27;touch /workdir/calm.txt&#x27;</span>]</span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">workdir</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">&quot;/workdir&quot;</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">workdir</span></span><br><span class="line">    <span class="attr">emptyDir:</span> &#123;&#125;</span><br><span class="line"><span class="comment"># kubectl apply -f /opt/kucc00100/pod-spec-KUCC00100.yaml</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第五题"><a href="#第五题" class="headerlink" title="第五题"></a>第五题</h2><p>Set configuration context $ kubectl config use-context k8s</p>
<p>Create a pod named kucc4 with a single container for each of the following images running inside (there may be between 1 and 4 images specified): nginx + redis + memcached + consul</p>
<p>Question weight: 4%</p>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/">https://kubernetes.io/docs/concepts/workloads/controllers/deployment/</a></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kubectl run kucc4 --image=nginx  -oyaml --dry-run &gt; kucc4.yaml</span></span><br><span class="line"><span class="comment"># vim kucc4.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">creationTimestamp:</span> <span class="literal">null</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">kucc4</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">kucc4</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">redis</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">memcached</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">memcached</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">consul</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">consul</span> </span><br><span class="line"><span class="comment"># kubectl apply -f kucc4.yaml</span></span><br><span class="line"><span class="string">pod/kucc4</span> <span class="string">created</span></span><br></pre></td></tr></table></figure>

<h2 id="第六题"><a href="#第六题" class="headerlink" title="第六题"></a>第六题</h2><p>Set configuration context $ kubectl config use-context k8s </p>
<p>Schedule a Pod as follows:<br>Name: nginx-kusc00101<br>Image: nginx<br>Node selector: disk&#x3D;ssd<br>Question weight: 2%</p>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/">https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/</a></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kubectl run nginx-kusc00101 --image=nginx -oyaml --dry-run &gt;nginx-kusc00101.yaml</span></span><br><span class="line"><span class="comment"># vim nginx-kusc00101.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">creationTimestamp:</span> <span class="literal">null</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">nginx-kusc00101</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-kusc00101</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">nginx-kusc00101</span></span><br><span class="line">  <span class="attr">nodeSelector:</span></span><br><span class="line">    <span class="attr">disk:</span> <span class="string">ssd</span></span><br><span class="line"><span class="comment"># kubectl apply -f nginx-kusc00101.yaml</span></span><br><span class="line"><span class="string">pod/nginx-kusc00101</span> <span class="string">created</span></span><br></pre></td></tr></table></figure>

<h2 id="第七题"><a href="#第七题" class="headerlink" title="第七题"></a>第七题</h2><p>Set configuration context $ kubectl config use-context k8s </p>
<p>Create a deployment as follows<br>Name: nginx-app<br>Using container nginx with version 1.10.2-alpine<br>The deployment should contain 3 replicas<br>Next, deploy the app with new version 1.13.0-alpine by performing a rolling update and record that update.</p>
<p>Finally, rollback that update to the previous version 1.10.2-alpine </p>
<p>Question weight: 4%</p>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/#updating-resources">https://kubernetes.io/docs/reference/kubectl/cheatsheet/#updating-resources</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">创建1.10.2版本</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl create deploy  nginx-app --image=nginx:1.10.2-alpine -oyaml --dry-run &gt;nginx-app.yaml</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl apply -f nginx-app.yaml</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl scale deploy nginx-app --replicas=3</span></span><br><span class="line">deployment.apps/nginx-app scaled</span><br><span class="line"></span><br><span class="line">更换成1.13.0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl <span class="built_in">set</span> image deployment nginx-app nginx=nginx:1.13.0-alpine --record</span></span><br><span class="line">deployment.apps/nginx-app image updated</span><br><span class="line"></span><br><span class="line">查看历史版本</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl rollout <span class="built_in">history</span> deploy nginx-app</span></span><br><span class="line">deployment.apps/nginx-app </span><br><span class="line">REVISION  CHANGE-CAUSE</span><br><span class="line">1         &lt;none&gt;</span><br><span class="line">2         kubectl set image deploy nginx-app nginx=nginx:1.13.0-alpine --record=true</span><br><span class="line"></span><br><span class="line">回滚上一版本</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl rollout undo deploy nginx-app</span></span><br><span class="line">deployment.apps/nginx-app rolled back</span><br></pre></td></tr></table></figure>

<h2 id="第八题"><a href="#第八题" class="headerlink" title="第八题"></a>第八题</h2><p>Set configuration context $ kubectl config use-context k8s</p>
<p>Create and configure the service front-end-service so it’s accessible through NodePort and routes to the existing pod named front-end</p>
<p>Question weight: 4%</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl expose pod front-end-service  --<span class="built_in">type</span>=NodePort --name=front-end --port=80</span></span><br></pre></td></tr></table></figure>

<h2 id="第九题"><a href="#第九题" class="headerlink" title="第九题"></a>第九题</h2><p>Set configuration context $ kubectl config use-context k8s </p>
<p>Create a Pod as follows:<br>Name: jenkins<br>Using image: jenkins<br>In a new Kubenetes namespace named website-frontend<br>Question weight 3%</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl create ns website-frontend</span></span><br><span class="line">namespace/website-frontend created</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl run jenkins --image=jenkins -nwebsite-frontend</span></span><br><span class="line">pod/jenkins created</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl get po -nwebsite-frontend</span></span><br><span class="line">NAME      READY   STATUS              RESTARTS   AGE</span><br><span class="line">jenkins   0/1     ContainerCreating   0          9s</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第十题"><a href="#第十题" class="headerlink" title="第十题"></a>第十题</h2><p>Set configuration context $ kubectl config use-context k8s </p>
<p>Create a deployment spec file that will:<br>Launch 7 replicas of the redis image with the label: app_env_stage&#x3D;dev<br>Deployment name: kual00201<br>Save a copy of this spec file to &#x2F;opt&#x2F;KUAL00201&#x2F;deploy_spec.yaml (or .json)</p>
<p>When you are done, clean up (delete) any new k8s API objects that you produced during this task</p>
<p>Question weight: 3%</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># mkdir /opt/KUAL00201</span></span><br><span class="line"><span class="comment"># kubectl run kual00201  --image=redis --labels=&#x27;app_env_stage=dev&#x27; -o yaml &gt;/opt/KUAL00201/deploy_spec.yaml</span></span><br><span class="line"><span class="comment"># vim /opt/KUAL00201/deploy_spec.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">creationTimestamp:</span> <span class="literal">null</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app_env_stage:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">kual00201</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">7</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app_env_stage:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">strategy:</span> &#123;&#125;</span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">creationTimestamp:</span> <span class="literal">null</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app_env_stage:</span> <span class="string">dev</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">kual00201</span></span><br><span class="line">        <span class="attr">resources:</span> &#123;&#125;</span><br><span class="line"><span class="attr">status:</span> &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第十一题"><a href="#第十一题" class="headerlink" title="第十一题"></a>第十一题</h2><p>Set configuration context $ kubectl config use-context k8s</p>
<p>Create a file &#x2F;opt&#x2F;KUCC00302&#x2F;kucc00302.txt that lists all pods that implement Service foo in Namespace production.</p>
<p>The format of the file should be one pod name per line.</p>
<p>Question weight: 3%</p>
<p>因为本地没有这个服务，用kube-dns代替</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl get svc -n kube-system</span></span><br><span class="line">NAME       TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)                  AGE</span><br><span class="line">kube-dns   ClusterIP   10.96.0.10   &lt;none&gt;        53/UDP,53/TCP,9153/TCP   9d</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl describe svc kube-dns -nkube-system</span></span><br><span class="line">Name:              kube-dns</span><br><span class="line">Namespace:         kube-system</span><br><span class="line">Labels:            k8s-app=kube-dns</span><br><span class="line">                   kubernetes.io/cluster-service=true</span><br><span class="line">                   kubernetes.io/name=KubeDNS</span><br><span class="line">Annotations:       prometheus.io/port: 9153</span><br><span class="line">                   prometheus.io/scrape: true</span><br><span class="line">Selector:          k8s-app=kube-dns</span><br><span class="line">Type:              ClusterIP</span><br><span class="line">IP:                10.96.0.10</span><br><span class="line">Port:              dns  53/UDP</span><br><span class="line">TargetPort:        53/UDP</span><br><span class="line">Endpoints:         10.244.0.5:53,10.244.2.30:53</span><br><span class="line">Port:              dns-tcp  53/TCP</span><br><span class="line">TargetPort:        53/TCP</span><br><span class="line">Endpoints:         10.244.0.5:53,10.244.2.30:53</span><br><span class="line">Port:              metrics  9153/TCP</span><br><span class="line">TargetPort:        9153/TCP</span><br><span class="line">Endpoints:         10.244.0.5:9153,10.244.2.30:9153</span><br><span class="line">Session Affinity:  None</span><br><span class="line">Events:            &lt;none&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl get po -nkube-system -l k8s-app=kube-dns</span></span><br><span class="line">NAME                       READY   STATUS    RESTARTS   AGE</span><br><span class="line">coredns-7ff77c879f-pwpgq   1/1     Running   2          9d</span><br><span class="line">coredns-7ff77c879f-sbg6j   1/1     Running   3          9d</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mkdir</span> /opt/KUCC00302/ -p</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl get po -nkube-system -l k8s-app=kube-dns|grep -v <span class="string">&#x27;NAME&#x27;</span>|awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> &gt;/opt/KUCC00302/kucc00302.txt</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> /opt/KUCC00302/kucc00302.txt</span></span><br><span class="line">coredns-7ff77c879f-pwpgq</span><br><span class="line">coredns-7ff77c879f-sbg6j</span><br></pre></td></tr></table></figure>

<h2 id="第十二题"><a href="#第十二题" class="headerlink" title="第十二题"></a>第十二题</h2><p>Set configuration context $ kubectl config use-context k8s </p>
<p>Create a Kubernetes Secret as follows:<br>Name: super-secret<br>Credential: alice  or username:bob<br>Create a Pod named pod-secrets-via-file using the redis image which mounts a secret named super-secret at &#x2F;secrets</p>
<p>Create a second Pod named pod-secrets-via-env using the redis image, which exports credential as TOPSECRET</p>
<p>Question weight: 9%</p>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/configuration/secret/">https://kubernetes.io/docs/concepts/configuration/secret/</a></p>
<p>文件挂载</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kubectl create secret generic super-secret --from-literal=Credential=alice --from-literal=username=bob</span></span><br><span class="line"><span class="string">secret/super-secret</span> <span class="string">created</span></span><br><span class="line"><span class="comment"># kubectl run pod-secrets-via-file --image=redis -oyaml --dry-run &gt;pod-secrets-via-file.yaml</span></span><br><span class="line"><span class="comment"># vim pod-secrets-via-file.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">creationTimestamp:</span> <span class="literal">null</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">pod-secrets-via-file</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-secrets-via-file</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">pod-secrets-via-file</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">super-secret</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">&quot;/secrets&quot;</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">super-secret</span></span><br><span class="line">    <span class="attr">secret:</span></span><br><span class="line">      <span class="attr">secretName:</span> <span class="string">super-secret</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># kubectl apply -f pod-secrets-via-file.yaml</span></span><br><span class="line"><span class="string">pod/pod-secrets-via-file</span> <span class="string">created</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># kubectl exec -it pod-secrets-via-file bash</span></span><br><span class="line"><span class="string">root@pod-secrets-via-file:/data#</span> <span class="string">cd</span> <span class="string">/secrets/</span></span><br><span class="line"><span class="string">root@pod-secrets-via-file:/secrets#</span> <span class="string">ls</span></span><br><span class="line"><span class="string">Credential</span>  <span class="string">username</span></span><br><span class="line"><span class="string">root@pod-secrets-via-file:/secrets#</span> <span class="string">cat</span> <span class="string">Credential</span> </span><br><span class="line"><span class="string">alice</span></span><br><span class="line"><span class="string">root@pod-secrets-via-file:/secrets#</span> <span class="string">cat</span> <span class="string">username</span> </span><br><span class="line"><span class="string">bobroot</span></span><br></pre></td></tr></table></figure>

<p>环境变量挂载</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kubectl run pod-secrets-via-env --image=redis -oyaml --dry-run &gt;pod-secrets-via-env.yaml</span></span><br><span class="line"><span class="string">W0807</span> <span class="number">17</span><span class="string">:52:23.764346</span>  <span class="number">104935</span> <span class="string">helpers.go:535]</span> <span class="string">--dry-run</span> <span class="string">is</span> <span class="string">deprecated</span> <span class="string">and</span> <span class="string">can</span> <span class="string">be</span> <span class="string">replaced</span> <span class="string">with</span> <span class="string">--dry-run=client.</span></span><br><span class="line"><span class="comment"># vim pod-secrets-via-env.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">pod-secrets-via-env</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-secrets-via-env</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">pod-secrets-via-env</span></span><br><span class="line">    <span class="attr">env:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">TOPSECRET</span></span><br><span class="line">        <span class="attr">valueFrom:</span></span><br><span class="line">          <span class="attr">secretKeyRef:</span></span><br><span class="line">            <span class="attr">name:</span> <span class="string">super-secret</span></span><br><span class="line">            <span class="attr">key:</span> <span class="string">Credential</span></span><br><span class="line"><span class="comment"># kubectl apply -f pod-secrets-via-env.yaml</span></span><br><span class="line"><span class="string">pod/pod-secrets-via-env</span> <span class="string">created</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># kubectl exec -it pod-secrets-via-env bash</span></span><br><span class="line"><span class="string">root@pod-secrets-via-env:/data#</span> <span class="string">echo</span> <span class="string">$TOPSECRET</span></span><br><span class="line"><span class="string">alice</span></span><br></pre></td></tr></table></figure>

<h2 id="第十三题"><a href="#第十三题" class="headerlink" title="第十三题"></a>第十三题</h2><p>Set configuration context $ kubectl config use-context k8s </p>
<p>Create a pad as follows:<br>Name: non-persistent-redis<br>Container image: redis<br>Named-volume with name: cache-control<br>Mount path: &#x2F;data&#x2F;redis<br>It should launch in the pre-prod namespace and the volume MUST NOT be persistent.</p>
<p>Question weight: 4%</p>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/storage/volumes/#emptydir">https://kubernetes.io/docs/concepts/storage/volumes/#emptydir</a></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kubectl create ns pre-prod</span></span><br><span class="line"><span class="string">namespace/pre-prod</span> <span class="string">created</span></span><br><span class="line"><span class="comment"># kubectl run non-persistent-redis --image=redis -oyaml --dry-run &gt; redis.yaml</span></span><br><span class="line"><span class="comment"># vim redis.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">creationTimestamp:</span> <span class="literal">null</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">non-persistent-redis</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">non-persistent-redis</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">non-persistent-redis</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">mountPath:</span> <span class="string">/data/redis</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">cache-control</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">cache-control</span></span><br><span class="line">    <span class="attr">emptyDir:</span> &#123;&#125;</span><br><span class="line"><span class="comment"># kubectl apply -f redis.yaml -n pre-prod</span></span><br><span class="line"><span class="string">pod/non-persistent-redis</span> <span class="string">created</span></span><br><span class="line"><span class="comment"># kubectl get po -npre-prod</span></span><br><span class="line"><span class="string">NAME</span>                   <span class="string">READY</span>   <span class="string">STATUS</span>    <span class="string">RESTARTS</span>   <span class="string">AGE</span></span><br><span class="line"><span class="string">non-persistent-redis</span>   <span class="number">1</span><span class="string">/1</span>     <span class="string">Running</span>   <span class="number">0</span>          <span class="string">40s</span></span><br></pre></td></tr></table></figure>

<h2 id="第十四题"><a href="#第十四题" class="headerlink" title="第十四题"></a>第十四题</h2><p>Set configuration context $ kubectl config use-context k8s </p>
<p>Scale the deployment webserver to 6 pods</p>
<p>Question weight: 1%</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl scale deploy/webserver --replicas=6</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第十五题"><a href="#第十五题" class="headerlink" title="第十五题"></a>第十五题</h2><p>Set configuration context $ kubectl config use-context k8s</p>
<p>Check to see how many nodes are ready (not including nodes tainted NoSchedule) and write the number to &#x2F;opt&#x2F;nodenum</p>
<p>Question weight: 2%</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> i <span class="keyword">in</span> `kubectl get nodes|grep Ready|grep -v <span class="string">&#x27;NAME&#x27;</span>|awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>`</span> </span><br><span class="line">do  </span><br><span class="line">  kubectl describe node $i |grep Taints|grep -v &#x27;NoSchedule&#x27;</span><br><span class="line">done</span><br><span class="line">Taints:             &lt;none&gt;</span><br><span class="line">Taints:             &lt;none&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> i <span class="keyword">in</span> `kubectl get nodes|grep Ready|grep -v <span class="string">&#x27;NAME&#x27;</span>|awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>` ;<span class="keyword">do</span> kubectl describe node <span class="variable">$i</span> |grep Taints|grep -v <span class="string">&#x27;NoSchedule&#x27;</span>;<span class="keyword">done</span>|<span class="built_in">wc</span> -l &gt;/opt/nodenum</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> /opt/nodenum</span></span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<h2 id="第十六题"><a href="#第十六题" class="headerlink" title="第十六题"></a>第十六题</h2><p>Set configuration context $ kubectl config use-context k8s</p>
<p>From the Pod label name&#x3D;cpu-utilizer, find pods running high CPU workloads and write the name of the Pod consuming most CPU to the file &#x2F;opt&#x2F;cpu.txt (which already exists)</p>
<p>Question weight: 2%</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> i <span class="keyword">in</span> `kubectl get po -l k8s-app=kube-dns -nkube-system|grep -v <span class="string">&#x27;NAME&#x27;</span>|awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>` ;<span class="keyword">do</span> kubectl top po <span class="variable">$i</span> -nkube-system ;<span class="keyword">done</span> |<span class="built_in">sort</span> -k 2r</span></span><br><span class="line">NAME                       CPU(cores)   MEMORY(bytes)   </span><br><span class="line">NAME                       CPU(cores)   MEMORY(bytes)   </span><br><span class="line">coredns-7ff77c879f-sbg6j   3m           16Mi            </span><br><span class="line">coredns-7ff77c879f-pwpgq   3m           12Mi </span><br><span class="line">      </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&#x27;coredns-7ff77c879f-sbg6j&#x27;</span> &gt;/opt/cpu.txt</span></span><br></pre></td></tr></table></figure>

<h2 id="第十七题"><a href="#第十七题" class="headerlink" title="第十七题"></a>第十七题</h2><p>Set configuration context $ kubectl config use-context k8s </p>
<p>Create a deployment as follows</p>
<p>Name: nginx-dns<br>Exposed via a service: nginx-dns<br>Ensure that the service &amp; pod are accessible via their respective DNS records<br>The container(s) within any Pod(s) running as a part of this deployment should use the nginx image<br>Next, use the utility nslookup to look up the DNS records of the service &amp; pod and write the output to &#x2F;opt&#x2F;service.dns and &#x2F;opt&#x2F;pod.dns respectively.</p>
<p>Ensure you use the busybox:1.28 image(or earlier) for any testing, an the latest release has an unpstream bug which impacts thd use of nslookup.</p>
<p>Question weight: 7%</p>
<p>注：考试中nslookup已提供</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl create deploy nginx-ds --image=nginx --image=busybox:1.28 --dry-run -oyaml &gt; nginx-ds.yaml</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim nginx-ds.yaml</span></span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  creationTimestamp: null</span><br><span class="line">  labels:</span><br><span class="line">    app: nginx-ds</span><br><span class="line">  name: nginx-ds</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: nginx-ds</span><br><span class="line">  strategy: &#123;&#125;</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nginx-ds</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - image: nginx</span><br><span class="line">        name: nginx</span><br><span class="line">      - image: busybox:1.28</span><br><span class="line">        name: busybox</span><br><span class="line">        command: [&#x27;sh&#x27;,&#x27;-c&#x27;,&#x27;sleep 3600&#x27;]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl apply -f nginx-ds.yaml</span></span><br><span class="line">deployment.apps/nginx-ds created</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl expose deploy/nginx-ds --port=80</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl <span class="built_in">exec</span> -it deploy/nginx-ds -c busybox  nslookup nginx-ds&gt;/opt/service.dns</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl <span class="built_in">exec</span> -it deploy/nginx-ds -c busybox  nslookup nginx-ds &gt;/opt/service.dns</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> /opt/service.dns</span></span><br><span class="line">Server:    10.96.0.10</span><br><span class="line">Address 1: 10.96.0.10 kube-dns.kube-system.svc.cluster.local</span><br><span class="line"></span><br><span class="line">Name:      nginx-ds</span><br><span class="line">Address 1: 10.98.149.137 nginx-ds.default.svc.cluster.local</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl <span class="built_in">exec</span> -it deploy/nginx-ds -c busybox  nslookup 10.244.1.101 &gt;/opt/pod.dns</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> /opt/pod.dns</span></span><br><span class="line">Server:    10.96.0.10</span><br><span class="line">Address 1: 10.96.0.10 kube-dns.kube-system.svc.cluster.local</span><br><span class="line"></span><br><span class="line">Name:      10.244.1.101</span><br><span class="line">Address 1: 10.244.1.101 nginx-ds-576c7d4d77-m47rt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第十八题"><a href="#第十八题" class="headerlink" title="第十八题"></a>第十八题</h2><p>No configuration context change required for this item</p>
<p>Create a snapshot of the etcd instance running at <a target="_blank" rel="noopener" href="https://127.0.0.1:2379/">https://127.0.0.1:2379</a> saving the snapshot to the file path &#x2F;data&#x2F;backup&#x2F;etcd-snapshot.db</p>
<p>The etcd instance is running etcd version 3.1.10</p>
<p>The following TLS certificates&#x2F;key are supplied for connecting to the server with etcdctl</p>
<p>CA certificate: &#x2F;opt&#x2F;KUCM00302&#x2F;ca.crt<br>Client certificate: &#x2F;opt&#x2F;KUCM00302&#x2F;etcd-client.crt<br>Clientkey:&#x2F;opt&#x2F;KUCM00302&#x2F;etcd-client.key </p>
<p>Question weight: 7%</p>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/zh/docs/tasks/administer-cluster/configure-upgrade-etcd/#%E5%A4%87%E4%BB%BD-etcd-%E9%9B%86%E7%BE%A4">https://kubernetes.io/zh/docs/tasks/administer-cluster/configure-upgrade-etcd/#%E5%A4%87%E4%BB%BD-etcd-%E9%9B%86%E7%BE%A4</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export ETCDCTL_API=3</span><br><span class="line">etcdctl \</span><br><span class="line">--endpoints=https://127.0.0.1:2379 \</span><br><span class="line">--cert /etc/kubernetes/pki/ca.crt \</span><br><span class="line">--key /etc/kubernetes/pki/etcd/ca.key \</span><br><span class="line">--cacert /etc/kubernetes/pki/ca.crt \</span><br><span class="line">snapshot save /data/backup/etcd-snapshot.db</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第十九题"><a href="#第十九题" class="headerlink" title="第十九题"></a>第十九题</h2><p>Set configuration context $ kubectl config use-context ek8s</p>
<p>Set the node labelled with name&#x3D;ek8s-node-1 as unavailable and reschedule all the pods running on it.</p>
<p>Question weight: 4%</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl label node node02 name=ek8s-node-1</span></span><br><span class="line">node/node02 labeled</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl get nodes -l name=ek8s-node-1</span></span><br><span class="line">NAME     STATUS   ROLES   AGE   VERSION</span><br><span class="line">node02   Ready    node    14d   v1.18.3</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl drain node02 --delete-local-data --force --ignore-daemonsets</span> </span><br></pre></td></tr></table></figure>

<h2 id="第二十题"><a href="#第二十题" class="headerlink" title="第二十题"></a>第二十题</h2><p>Set configuration context $ kubectl config use-context wk8s</p>
<p>A Kubernetes worker node, labelled with name&#x3D;wk8s-node-0 is in state NotReady . Investigate why this is the case, and perform any appropriate steps to bring the node to a Ready state, ensuring that any changes are made permanent.</p>
<p>Hints:</p>
<p>You can ssh to the failed node using $ ssh wk8s-node-0<br>You can assume elevated privileges on the node with the following command $ sudo -i </p>
<p>Question weight: 4%</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh wk8s-node-0</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo -i</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">systemctl start kubelet ;systemctl <span class="built_in">enable</span> kubelet</span></span><br></pre></td></tr></table></figure>

<h2 id="第二十一题"><a href="#第二十一题" class="headerlink" title="第二十一题"></a>第二十一题</h2><p>Set configuration context $ kubectl config use-context wk8s</p>
<p>Configure the kubelet systemd managed service, on the node labelled with <strong>name&#x3D;wk8s-node-1</strong>, to launch a Pod containing a single container of image nginx named myservice automatically. Any spec files required should be placed in the &#x2F;etc&#x2F;kubernetes&#x2F;manifests directory on the node.</p>
<p>Hints:</p>
<ol>
<li>You can ssh to the failed node using $ ssh wk8s-node-1</li>
<li>You can assume elevated privileges on the node with the following command $ sudo -i</li>
</ol>
<p> </p>
<p>Question weight: 4%</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ ssh wk8s-node-1</span><br><span class="line">$ sudo -i</span><br><span class="line"># vim /etc/kubernetes/manifests/myservice.yaml</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  creationTimestamp: null</span><br><span class="line">  labels:</span><br><span class="line">    run: myservice</span><br><span class="line">  name: myservice</span><br><span class="line">spec:</span><br><span class="line">  containers:</span><br><span class="line">  - image: nginx</span><br><span class="line">    name: myservice</span><br><span class="line">    resources: &#123;&#125;</span><br><span class="line">  dnsPolicy: ClusterFirst</span><br><span class="line">  restartPolicy: Always</span><br><span class="line">status: &#123;&#125;</span><br><span class="line"># systemctl status kubelet</span><br><span class="line">● kubelet.service - kubelet: The Kubernetes Node Agent</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/kubelet.service; enabled; vendor preset: disabled)</span><br><span class="line">  Drop-In: /usr/lib/systemd/system/kubelet.service.d</span><br><span class="line">           └─10-kubeadm.conf</span><br><span class="line"># vim /usr/lib/systemd/system/kubelet.service.d/10-kubeadm.conf</span><br><span class="line"># Note: This dropin only works with kubeadm and kubelet v1.11+</span><br><span class="line">[Service]</span><br><span class="line">  vironment=&quot;KUBELET_KUBECONFIG_ARGS=--bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig</span><br><span class="line">=/etc/kubernetes/kubelet.conf&quot;</span><br><span class="line">Environment=&quot;KUBELET_CONFIG_ARGS=--config=/var/lib/kubelet/config.yaml&quot;</span><br><span class="line"># vim /var/lib/kubelet/config.yaml</span><br><span class="line">staticPodPath: /etc/kubernetes/manifests</span><br><span class="line"># systemctl restart kubelet</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第二十二题-没遇见"><a href="#第二十二题-没遇见" class="headerlink" title="第二十二题 (没遇见)"></a>第二十二题 (没遇见)</h2><p>Set configuration context $ kubectl config use-context ik8s</p>
<p>In this task, you will configure a new Node, ik8s-node-0, to join a Kubernetes cluster as follows:</p>
<p>Configure kubelet for automatic certificate rotation and ensure that both server and client CSRs are automatically approved and signed as appropnate via the use of RBAC.<br>Ensure that the appropriate cluster-info ConfigMap is created and configured appropriately in the correct namespace so that future Nodes can easily join the cluster<br>Your bootstrap kubeconfig should be created on the new Node at &#x2F;etc&#x2F;kubernetes&#x2F;bootstrap-kubelet.conf (do not remove this file once your Node has successfully joined the cluster)<br>The appropriate cluster-wide CA certificate is located on the Node at &#x2F;etc&#x2F;kubernetes&#x2F;pki&#x2F;ca.crt . You should ensure that any automatically issued certificates are installed to the node at &#x2F;var&#x2F;lib&#x2F;kubelet&#x2F;pki and that the kubeconfig file for kubelet will be rendered at &#x2F;etc&#x2F;kubernetes&#x2F;kubelet.conf upon successful bootstrapping<br>Use an additional group for bootstrapping Nodes attempting to join the cluster which should be called system:bootstrappers:cka:default-node-token<br>Solution should start automatically on boot, with the systemd service unit file for kubelet available at &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;kubelet.service<br>To test your solution, create the appropriate resources from the spec file located at &#x2F;opt&#x2F;….&#x2F;kube-flannel.yaml This will create the necessary supporting resources as well as the kube-flannel -ds DaemonSet . You should ensure that this DaemonSet is correctly deployed to the single node in the cluster.</p>
<p>Hints:</p>
<p>kubelet is not configured or running on ik8s-master-0 for this task, and you should not attempt to configure it.<br>You will make use of TLS bootstrapping to complete this task.<br>You can obtain the IP address of the Kubernetes API server via the following command $ ssh ik8s-node-0 getent hosts ik8s-master-0<br>The API server is listening on the usual port, 6443&#x2F;tcp, and will only server TLS requests<br>The kubelet binary is already installed on ik8s-node-0 at &#x2F;usr&#x2F;bin&#x2F;kubelet . You will not need to deploy kube-proxy to the cluster during this task.<br>You can ssh to the new worker node using $ ssh ik8s-node-0<br>You can ssh to the master node with the following command $ ssh ik8s-master-0<br>No further configuration of control plane services running on ik8s-master-0 is required<br>You can assume elevated privileges on both nodes with the following command $ sudo -i<br>Docker is already installed and running on ik8s-node-0</p>
<p>Question weight: 8%</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第二十三题"><a href="#第二十三题" class="headerlink" title="第二十三题"></a>第二十三题</h2><p>Set configuration context $ kubectl config use-context bk8s</p>
<p>Given a partially-functioning Kubenetes cluster, identify symptoms of failure on the cluster. Determine the node, the failing service and take actions to bring up the failed service and restore the health of the cluster. Ensure that any changes are made permanently.</p>
<p>The worker node in this cluster is labelled with name&#x3D;bk8s-node-0 Hints:</p>
<p>You can ssh to the relevant nodes using $ ssh $(NODE) where $(NODE) is one of bk8s-master-0 or bk8s-node-0<br>You can assume elevated privileges on any node in the cluster with the following command$ sudo -i</p>
<p>Question weight: 4%</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">这个是静态yaml目录</span><br><span class="line"># cd /etc/kubernetes/manifests/</span><br><span class="line"># ls</span><br><span class="line">etcd.yaml  kube-apiserver.yaml  kube-controller-manager.yaml  kube-scheduler.yaml</span><br><span class="line">静态文件还存在，这就需要查看静态文件路径是否正常</span><br><span class="line"># vim /var/lib/kubelet/config.yaml</span><br><span class="line">staticPodPath: /etc/kubernetes/DODKSIYF =&gt; /etc/kubernetes/manifests</span><br><span class="line"># systemctl restart kubelet</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第二十四题"><a href="#第二十四题" class="headerlink" title="第二十四题"></a>第二十四题</h2><p>Set configuration context $ kubectl config use-context hk8s</p>
<p>Creae a persistent volume with name app-config of capacity 1Gi and access mode ReadWriteOnce. The type of volume is hostPath and its location is &#x2F;srv&#x2F;app-config</p>
<p>Question weight: 3%</p>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/#create-a-persistentvolume">https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/#create-a-persistentvolume</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim app-config.yaml</span></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: PersistentVolume</span><br><span class="line">metadata:</span><br><span class="line">  name: app-config</span><br><span class="line">  labels:</span><br><span class="line">    type: local</span><br><span class="line">spec:</span><br><span class="line">  storageClassName: app-config</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 1Gi</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  hostPath:</span><br><span class="line">    path: &quot;/srv/app-config&quot;</span><br><span class="line">                                                   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl apply -f app-config.yaml</span></span><br><span class="line">persistentvolume/app-config created</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl get pv</span></span><br><span class="line">NAME         CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS   REASON   AGE</span><br><span class="line">app-config   1Gi        RWO            Retain           Available           app-config              4s</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第二十五题"><a href="#第二十五题" class="headerlink" title="第二十五题"></a>第二十五题</h2><p>ssh mster node主机创建一个集群</p>
<p>集群Ready即可  初始化指定 –ignore-preflight-errors&#x3D;xxx<br><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/</a><br><a target="_blank" rel="noopener" href="https://v1-17.docs.kubernetes.io/zh/docs/reference/setup-tools/kubeadm/kubeadm-init/">https://v1-17.docs.kubernetes.io/zh/docs/reference/setup-tools/kubeadm/kubeadm-init/</a><br><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml">https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install -y kubelet kubeadm kubectl</span><br><span class="line"># kubectl init  --ignore-preflight-errors=xxx</span><br><span class="line"># kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml</span><br></pre></td></tr></table></figure>




</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://wqblogs.com">chongzi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章連結: </span><span class="post-copyright-info"><a href="https://wqblogs.com/2020/08/13/cka/">https://wqblogs.com/2020/08/13/cka/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版權聲明: </span><span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 許可協議。轉載請註明來自 <a href="https://wqblogs.com" target="_blank">虫子个人博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/cka/">cka</a></div><div class="post_share"><div class="social-share" data-image="https://www.wqblogs.com:4443/image/cka.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打賞</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/08/31/ceph%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/" title="ceph集群部署"><img class="cover" src="https://www.wqblogs.com:4443/image/ceph.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">ceph集群部署</div></div></a></div><div class="next-post pull-right"><a href="/2020/04/20/k8s%E9%83%A8%E7%BD%B2alertmanager/" title="k8s部署alertmanager"><img class="cover" src="https://www.wqblogs.com:4443/image/default.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">k8s部署alertmanager</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">chongzi</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">190</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">40</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/wq-h"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">有问题请邮件或者QQ联系</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">第二题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">第三题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">第四题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E9%A2%98"><span class="toc-number">5.</span> <span class="toc-text">第五题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E9%A2%98"><span class="toc-number">6.</span> <span class="toc-text">第六题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E9%A2%98"><span class="toc-number">7.</span> <span class="toc-text">第七题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%85%AB%E9%A2%98"><span class="toc-number">8.</span> <span class="toc-text">第八题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B9%9D%E9%A2%98"><span class="toc-number">9.</span> <span class="toc-text">第九题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E9%A2%98"><span class="toc-number">10.</span> <span class="toc-text">第十题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%80%E9%A2%98"><span class="toc-number">11.</span> <span class="toc-text">第十一题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%BA%8C%E9%A2%98"><span class="toc-number">12.</span> <span class="toc-text">第十二题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%89%E9%A2%98"><span class="toc-number">13.</span> <span class="toc-text">第十三题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E9%A2%98"><span class="toc-number">14.</span> <span class="toc-text">第十四题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%BA%94%E9%A2%98"><span class="toc-number">15.</span> <span class="toc-text">第十五题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%85%AD%E9%A2%98"><span class="toc-number">16.</span> <span class="toc-text">第十六题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%83%E9%A2%98"><span class="toc-number">17.</span> <span class="toc-text">第十七题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%85%AB%E9%A2%98"><span class="toc-number">18.</span> <span class="toc-text">第十八题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B9%9D%E9%A2%98"><span class="toc-number">19.</span> <span class="toc-text">第十九题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E9%A2%98"><span class="toc-number">20.</span> <span class="toc-text">第二十题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E4%B8%80%E9%A2%98"><span class="toc-number">21.</span> <span class="toc-text">第二十一题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E4%BA%8C%E9%A2%98-%E6%B2%A1%E9%81%87%E8%A7%81"><span class="toc-number">22.</span> <span class="toc-text">第二十二题 (没遇见)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E4%B8%89%E9%A2%98"><span class="toc-number">23.</span> <span class="toc-text">第二十三题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E5%9B%9B%E9%A2%98"><span class="toc-number">24.</span> <span class="toc-text">第二十四题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E4%BA%94%E9%A2%98"><span class="toc-number">25.</span> <span class="toc-text">第二十五题</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/30/ubuntu20.04-lts%E9%83%A8%E7%BD%B2k8s%E9%9B%86%E7%BE%A4/" title="ubuntu20.04 lts 部署k8s集群"><img src="https://www.wqblogs.com:4443/image/Kubernetes.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ubuntu20.04 lts 部署k8s集群"/></a><div class="content"><a class="title" href="/2022/12/30/ubuntu20.04-lts%E9%83%A8%E7%BD%B2k8s%E9%9B%86%E7%BE%A4/" title="ubuntu20.04 lts 部署k8s集群">ubuntu20.04 lts 部署k8s集群</a><time datetime="2022-12-30T13:11:59.000Z" title="發表於 2022-12-30 21:11:59">2022-12-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/30/multipass%E9%85%8D%E7%BD%AE%E8%99%9A%E6%9C%BA/" title="multipss尝鲜"><img src="https://www.wqblogs.com:4443/image/default.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="multipss尝鲜"/></a><div class="content"><a class="title" href="/2022/12/30/multipass%E9%85%8D%E7%BD%AE%E8%99%9A%E6%9C%BA/" title="multipss尝鲜">multipss尝鲜</a><time datetime="2022-12-30T08:00:59.000Z" title="發表於 2022-12-30 16:00:59">2022-12-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/27/postgresql%E7%94%9F%E4%BA%A7%E4%BA%8B%E6%95%85/" title="postgresql生产事故"><img src="https://www.wqblogs.com:4443/image/postgresql.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="postgresql生产事故"/></a><div class="content"><a class="title" href="/2022/11/27/postgresql%E7%94%9F%E4%BA%A7%E4%BA%8B%E6%95%85/" title="postgresql生产事故">postgresql生产事故</a><time datetime="2022-11-27T13:16:49.000Z" title="發表於 2022-11-27 21:16:49">2022-11-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/24/go%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F%E5%8F%8A%E5%B8%B8%E9%87%8F/" title="GO语言变量及常量"><img src="https://www.wqblogs.com:4443/image/go/golang.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="GO语言变量及常量"/></a><div class="content"><a class="title" href="/2022/11/24/go%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F%E5%8F%8A%E5%B8%B8%E9%87%8F/" title="GO语言变量及常量">GO语言变量及常量</a><time datetime="2022-11-24T11:45:00.000Z" title="發表於 2022-11-24 19:45:00">2022-11-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/23/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99golang%E4%BB%A3%E7%A0%81/" title="如何编写golang代码"><img src="https://www.wqblogs.com:4443/image/go/golang.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何编写golang代码"/></a><div class="content"><a class="title" href="/2022/11/23/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99golang%E4%BB%A3%E7%A0%81/" title="如何编写golang代码">如何编写golang代码</a><time datetime="2022-11-23T15:19:00.000Z" title="發表於 2022-11-23 23:19:00">2022-11-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2023 By chongzi</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主題 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/#/Integrated/recordQuery"><img class="icp-icon" src="https://www.wqblogs.com:4443/image/icp.png"><span>備案號:京ICP备18009919号-1</span></a> <a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11011502004880"><img class="icp-icon" src="https://www.wqblogs.com:4443/image/备案.png"><span>京公网安备 11011502004880号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="淺色和深色模式轉換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到頂部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜尋</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  資料庫載入中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜尋文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>